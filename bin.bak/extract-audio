#!/bin/bash

# Extract audio from an MP4 file.

# Get the input file name.
input_file_name=$1

# Get the output file name.
output_file_name=$2

# Check if the input file exists.
if [ ! -f "$input_file_name" ]; then
  echo "Error: Input file '$input_file_name' does not exist."
  exit 1
fi

# Check if the output file already exists.
if [ -f "$output_file_name" ]; then
  echo "Warning: Output file '$output_file_name' already exists."
  echo "Do you want to overwrite it? (y/n)"
  read -n 1 response

  if [ "$response" != "y" ]; then
    exit 0
  fi
fi

# Extract the audio from the input file.
ffmpeg -i "$input_file_name" -c copy -map 0:a:0 "$output_file_name"

# Success!
echo "Audio successfully extracted to '$output_file_name'."

